### Вёрстка веб-страниц без геморроя

Как-то давно я наткнулся на [страдания одного благородного господина](http://juick.com/borman/2321256) и тут же подумал: а ведь действительно, что-то в цепочке "сохранить->переключить окно->обновить" лишнее. Достаточно оставить лишь первое действия, ведь средства операционной системы вполне позволяют отслеживать состояние файлов в отдельно взятой директории, даже рекурсивно. Осталось лишь придумать, как прикрутить к браузеру какое-нибудь вменяемое средство [Inter-Process Communication](http://ru.wikipedia.org/wiki/Inter-process_communication). Итак, приступим.

#### Плагин для Firefox с TCP-сокетом

Устанавливаем в Firefox дополнение [Remote Control](https://github.com/pmorch/FF-Remote-Control). На панели аддонов появится кнопочка ![](http://wasteland.it-the-drote.tk/shot/debian/firefox-remote.png). Нажимаем кнопочку и Firefox начинает слушать 32000 порт и ожидать входящих команд. Можно зайти в эмулятор терминала, нажать `telnet localhost 32000` и посылать браузеру Javascript-команды. Хотя, можно и просто **reload**.

#### Watchdog для директории с проектом
Telnet - это, конечно, хорошо, но нам нужна автоматизация. Для этого мы напишем простой **watchdog**:

    #!/usr/bin/env bash
    watchdir=$1
    
    while inotifywait -r -e close_write $watchdir; do
    	sleep 0.5
    	echo "reload" | nc -q 1 localhost 32000
    done

и положим его куда-нибудь в `$PATH`
