Перенаправление десктопных уведомлений на android-смартфон
==========================================================

Иногда может возникнуть необходимость в перенаправлении критически важных десктопных уведомлений с десктопа на android-смартфон. Это могут быть уведомления от системы мониторинга или об электронной почте, на которую настроены специальные фильтры. Всё это просто реализовать с помощью сервера уведомлений [dunst](http://knopwob.org/dunst/index.html) и сервиса [Notify My Android](https://www.notifymyandroid.com/)(далее NMA).

#### Настройка

`dunst`, скорее всего, есть в репозитории практически любого дистрибутива. NMA устанавливается на смартфон Google Play. Пробная версия позволяет отсылать до пяти уведомлений в день, регистрация необходима(после неё можно получить api-ключ). Далее в конфиге `dunst`(обычно это `~/.config/dunst/dunstrc`) нужно указать скрипт, который будет перенаправлять текст уведомления:

    [script-nma]
        summary = "*"
        script = /path/to/nma.sh

В скрипте мы уже указываем, какие уведомления перенаправлять на смартфон. В данном случае это только критические уведомления:

    #!/usr/bin/env bash

    if [[ $5 == "CRITICAL" || $4 == "CRITICAL" ]]; then
        curl --data "apikey=yoursecretkey&application=$1&event=$2&description=$3" "https://www.notifymyandroid.com/publicapi/notify"
    fi

Далее необходимо залогиниться в NMA на смартфоне. Уведомления должны перенаправляться.
